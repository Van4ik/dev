# Управление LED лентой 12В через МОСФЕТ модуль?

Человек проходит в коридоре - зажигается плавно лента, светит определенно промежуток времени, и затем плавно уменьшает яркость, продолжает светит на уменьшенной яркости, затем тухнет окончательно.

Для создания экземпляра объекта LED ленты используется класс Flasher.
```c++
Flasher led1(pin_pwm, 20000, 5000);  
// pin_pwm - пин pwm для управления лентой через МОСФЕТ ключ;
// 20000 - 20 секунд светится полная яркость;
// 5000  - +5 секунд продолжительность свечения уменьшенной яркости.
```

Класс Rele используется для модуля управления реле:
```c++
Rele rele1(output_pin_rele,60000,true);
// output_pin_rele - пин для подключения реле;
// 60000 - 1 минута - продолжительность включенного состояния;
// true - для инверсированного входа реле, когда открывается низким уровнем.
```

В прерывании SIGNAL(TIMER0_COMPA_vect)  необходимо вызывать функцию update
```c++
led1.Update(millis()); 
rele1.Update(millis()); 
```

В loop() наличие delay абсолютно не мешает. Тут осуществляется проверка состояния каких-то условий при которых включается лента/реле
```c++
  if(digitalRead(input_PIR) == HIGH){
    led1.Set(true);
    Serial.println("Лента включается, если была выключена");
  }else{
    led1.Set(false);
  }
```